
                                                                                                                                                                                                                                                                                                                                                                        /*
title       Reduced
project     reduced-dark-ui
version     0.0.0
repository  https://github.com/tuomashatakka/reduced-dark-ui
author      Tuomas Hatakka
email       tuomas.hatakka@gmail.com
copyright   Copyright (C) 2016-2017 Tuomas Hatakka                                                                                                                                                                                                                                                                                                                      */


@icon-size: 1em;

.tab-bar {
  display: flex;
  // margin-left: @tab-height;
  height: @tab-height;
  justify-content: center;
  overflow-x: auto;
  background: @tab-bar-background-color;
  border-radius: 0 !important;
  -webkit-transform: scale(1);

  .tab {
    .text(normal);
    box-sizing: border-box;
    position: relative;
    display: block;
    flex: 1 0 auto;
    text-align: center;
    width: auto;
    height: @tab-height;
    line-height: @tab-height/3;
    padding: @tab-height/3 0.5rem !important;
    border-width: 1px 0 0;
    border-top-style: solid;
    color: @text-color-subtle;
    background: @tab-background-color;
    transition: all @transition-time ease !important;

    [class*='status-'], &.modified, &.added {
      transition:
        color @transition-time ease,
        background @transition-time ease;

      .title, *::before {
        color: inherit !important;
        border-color: auto !important }}

    .status-modified, &.modified { color: @text-color-modified }
    .status-added, &.added { color: @text-color-added }
    .status-ignored, &.ignored { color: @text-color-ignored }
    .title, .title::before { line-height: inherit }

    // Hovered
    &:hover {
      color: @text-color-highlight;
      background: @tab-background-color-hover }

    // Current
    &.active {
      flex: 1 0 auto;
      color: @text-color-selected;
      background-color: @tab-background-color-active;
      .accent;

      .title { color: inherit; padding: 0 }
      .status-added,
      .status-modified,
      .status-ignored { color: inherit }}

    .tab-state() }}

.platform-darwin {
  .tab .close-icon {
    left: @icon-size !important;
    right: auto !important }

  .tab.modified:not(:hover) .close-icon {
    left: @icon-size !important;
    border: none;
    right: auto !important }}

.close-icon-generator(@state: none) {
  position: absolute;
  top: @tab-height / 2;
  left: @icon-size;
  width: @icon-size;
  height: @icon-size;
  line-height: @icon-size;
  text-align: center;
  font-size: @icon-size;
  transform: translate(0%, -50%);
  box-sizing: border-box;
  transition: all @transition-time ease;

  &::before {
    display: block;
    border-radius: 50%;
    transition: all @transition-time ease;
    transform: rotate(45deg);
    opacity: 0 }


  // Not modified, non-hovered
  &::before when (@state = none) {
    color: transparent }

  // Hovered
  &::before when (@state = hover) {
    color: inherit;
    background: @tab-background-color-active;
    border-width: 0px;
    transform: rotate(0deg);
    opacity: 1 }

  // Modified
  &::before when (@state = modified) {
    border-width: 0px;
    opacity: 1 }
}


.tab-state() {
  .close-icon { .close-icon-generator() }
  &:hover .close-icon { .close-icon-generator(hover) }
  &.modified:not(:hover) .close-icon { .close-icon-generator(modified) }
}
