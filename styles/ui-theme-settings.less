
                                                                                                                                                                                                                                                                                                                                                                        /*
title       Reduced
project     reduced-dark-ui
version     0.0.0
repository  https://github.com/tuomashatakka/reduced-dark-ui
author      Tuomas Hatakka
email       tuomas.hatakka@gmail.com
copyright   Copyright (C) 2016-2017 Tuomas Hatakka                                                                                                                                                                                                                                                                                                                      */
                                                                                                                                                                                                                                                                                                                                                                        /*

Variable definitions                                                                                                                                                                                                                                                                                                                                                    */
@attr-config:       ~'@{ui-theme-name}-settings';
@attr-color-accent: ~'@{ui-theme-name}-highilightcolor';

                                                                                                                                                                                                                                                                                                                                                                        /*
User Interface                                                                                                                                                                                                                                                                                                                                                          */

// Full-width tabs
atom-workspace when (@config-tabSizing = true) {
  .tab-bar .tab {
    max-width: none;
    flex-basis: auto }
}


// Tab bar fixed to the top of the screen
atom-workspace when (@config-fixedTabBar = true) {
  & > atom-workspace-axis {
    margin-top: @tab-height !important }

  .tree-view-resizer {
    overflow: hidden;
    & .project-root > .list-tree { top: 0 }}

  .tab-bar {
    position: fixed;
    height: @tab-height;
    transform: translateY(-100%);
    left: 0;
    right: 0;
    z-index: 300;
    .tab.active,
    .tab:hover.active {
      width: inherit }}
}


// Project root(s) fixed to the top of the tree view
atom-workspace when (@config-fixedProjectRoot = true) {

  .tree-view-scroller {
    position: relative;
    margin-left: 0;
    overflow: initial;
    z-index: 301;

    .tree-view {
      position: relative;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      margin-left: 0;
      padding: 0;
      overflow: initial;

      > .project-root {
        position: static;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        margin: 0;
        padding: 0;
        max-width: 100%;

        &.selected {
          z-index: 1000 }

        &::before {
          content: none; }

        .project-root-header {
          position: relative;
          top: 0;
          left: 0;
          margin: 0;
          padding: 0;
          display: block;
          max-width: 100%;
          z-index: 1000;
          height: @tab-height }

        > .list-tree {
          position: absolute;
          overflow: auto;
          display: block;
          top: @tab-height;
          bottom: 0;
          left: 0;
          right: 0 }

        &.expanded {
          .project-root-header {
            right: 0;
            position: absolute }
          ~ .project-root {
            display: none }}}}}
}

// Editor bgcol override
atom-workspace when (@config-overrideEditorBackground = true) {
  atom-text-editor,
  atom-text-editor::shadow,
  :host {
    background: @tab-background-color-active }
}


// Collapsing for panels

atom-workspace atom-panel-container atom-panel .display-icon {
  display: none }

atom-workspace when (@config-collapsing = left) {
  .applyCollapsing(left) }

atom-workspace when (@config-collapsing = right) {
  .applyCollapsing(right) }

atom-workspace when (@config-collapsing = both) {
  .applyCollapsing(left);
  .applyCollapsing(right) }

.applyCollapsing(@cls: neither) {
  // Horizontal spacing is 1/8
  @gutter-y: 1 / 8;
  @clss: ~"atom-panel-container.@{cls}";

  @{clss} {

  atom-panel {
    background: @app-background-color;
    position: absolute;
    padding-top: @tab-height;
    border-radius: @tab-height / 2.05;
    top: 0;
    bottom: 0;
    transition:
        margin @transition-time @transition-curve,
        transform @transition-time @transition-curve;

    &.left {
      left: 0;
      transform: translateX(-100%);
      margin-right: -@tab-height;
    }
    &.right {
      right: 0;
      transform: translateX(100%);
      margin-left: -@tab-height;
    }

    .display-icon {
      display: block }

    &.open,
    &:hover {
      transform: translateX(0) }

    &.open  ~ atom-panel,
    &:hover ~ atom-panel {
      margin-left: -@tab-height }

    @advance: @tab-height * (3 / 4 + @gutter-y);
    &:nth-child(1) { z-index: 101; margin-top: 0 * @advance }
    &:nth-child(2) { z-index: 102; margin-top: 1 * @advance }
    &:nth-child(3) { z-index: 103; margin-top: 2 * @advance }
    &:nth-child(4) { z-index: 104; margin-top: 3 * @advance }
    &:nth-child(5) { z-index: 105; margin-top: 4 * @advance }
    &:nth-child(6) { z-index: 106; margin-top: 5 * @advance }}}}
